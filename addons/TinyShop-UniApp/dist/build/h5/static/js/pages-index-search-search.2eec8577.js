(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-search-search"],{"219a":function(e,t,i){"use strict";i.r(t);var n=i("28b2"),a=i("b5d0");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("6b36");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"516e0a47",null,!1,n["a"],r);t["default"]=c.exports},"28b2":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"serach"},[i("v-uni-view",{staticClass:"content",style:{"border-radius":e.radius+"px"}},[i("v-uni-view",{staticClass:"content-box",class:{center:2===e.mode},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getFocus.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont iconsousuo"}),i("v-uni-input",{staticClass:"input",class:{center:!e.active&&2===e.mode},attrs:{placeholder:e.placeholder,"confirm-type":"search",focus:e.isFocus},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.triggerConfirm.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.focus.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.blur.apply(void 0,arguments)}},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}),e.isDelShow?i("v-uni-text",{staticClass:"icon icon-del",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}}):e._e()],1),e.active&&e.show&&"inside"===e.button||e.isDelShow&&"inside"===e.button?i("v-uni-view",{staticClass:"serachBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}}},[e._v("搜索")]):e._e()],1),"outside"===e.button?i("v-uni-view",{staticClass:"button",class:{active:e.show||e.active},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"button-item"},[e._v(e._s(e.show?"搜索":e.searchName))])],1):e._e()],1)},o=[]},"33e6":function(e,t,i){"use strict";i.r(t);var n=i("fb54"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},"42b8":function(e,t,i){var n=i("5140");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("4d1669ce",n,!0,{sourceMap:!1,shadowMode:!1})},"479b":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".serach[data-v-516e0a47]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;box-sizing:border-box;font-size:%?28?%}.serach .content[data-v-516e0a47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?60?%;background:#fff;overflow:hidden;-webkit-transition:all .2s linear;transition:all .2s linear;border-radius:30px}.serach .content .content-box[data-v-516e0a47]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.serach .content .content-box .iconfont[data-v-516e0a47]{color:grey;margin:0 %?6?% 0 %?12?%}.serach .content .content-box.center[data-v-516e0a47]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.serach .content .content-box .input[data-v-516e0a47]{width:100%;max-width:100%;line-height:%?60?%;height:%?60?%;-webkit-transition:all .2s linear;transition:all .2s linear}.serach .content .content-box .input.center[data-v-516e0a47]{width:%?200?%}.serach .content .content-box .input.sub[data-v-516e0a47]{width:auto;color:grey}.serach .content .serachBtn[data-v-516e0a47]{height:100%;-webkit-flex-shrink:0;flex-shrink:0;padding:0 %?30?%;background:-webkit-linear-gradient(left,rgba(250,67,106,.7),rgba(250,67,106,.9));background:linear-gradient(90deg,rgba(250,67,106,.7),rgba(250,67,106,.9));line-height:%?60?%;color:#fff;-webkit-transition:all .3s;transition:all .3s}.serach .button[data-v-516e0a47]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;-webkit-flex-shrink:0;flex-shrink:0;width:0;-webkit-transition:all .2s linear;transition:all .2s linear;white-space:nowrap;overflow:hidden}.serach .button.active[data-v-516e0a47]{padding-left:%?15?%;width:%?100?%}.icon[data-v-516e0a47]{font-family:iconfont;font-size:%?32?%;font-style:normal;color:#999}",""]),e.exports=t},5140:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".rf-search .search-box[data-v-39865b62]{width:100%;background-color:#f2f2f2;padding:%?15?% 2.5%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.rf-search .search-box .mSearch-input-box[data-v-39865b62]{width:100%}.rf-search .search-box .input-box>uni-input[data-v-39865b62]{width:100%;height:%?60?%;font-size:%?32?%;border:0;border-radius:%?60?%;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0 3%;margin:0;background-color:#fff}.rf-search .search-keyword[data-v-39865b62]{width:100%;background-color:#f2f2f2}.rf-search .search-keyword .keyword-list-box[data-v-39865b62]{height:calc(100vh - %?110?%);padding-top:%?10?%;border-radius:%?20?% %?20?% 0 0;background-color:#fff}.rf-search .search-keyword .keyword-entry[data-v-39865b62]{width:94%;height:%?80?%;margin:0 3%;font-size:%?30?%;color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:solid %?1?% #e7e7e7}.rf-search .search-keyword .keyword-entry uni-image[data-v-39865b62]{width:%?60?%;height:%?60?%}.rf-search .search-keyword .keyword-entry .keyword-text[data-v-39865b62]{width:90%}.rf-search .search-keyword .keyword-entry .keyword-img[data-v-39865b62]{width:10%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.rf-search .search-keyword .keyword-box[data-v-39865b62]{border-radius:%?20?% %?20?% 0 0;background-color:#fff}.rf-search .search-keyword .keyword-box .keyword-block[data-v-39865b62]{padding:%?10?% 0}.rf-search .search-keyword .keyword-box .keyword-block .keyword-list-header[data-v-39865b62]{width:100vw;padding:%?10?% 3%;font-size:%?27?%;color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.rf-search .search-keyword .keyword-box .keyword-block .keyword-list-header uni-image[data-v-39865b62]{width:%?40?%;height:%?40?%}.rf-search .search-keyword .keyword-box .keyword-block .keyword[data-v-39865b62]{width:100vw;padding:3px 3%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-flow:wrap;flex-flow:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.rf-search .search-keyword .keyword-box .keyword-block .hide-hot-tis[data-v-39865b62]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?28?%;color:#6b6b6b}.rf-search .search-keyword .keyword-box .keyword-block .keyword>uni-view[data-v-39865b62]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:%?60?%;padding:0 %?20?%;margin:%?10?% %?20?% %?10?% 0;height:%?60?%;font-size:%?28?%;background-color:#f2f2f2;color:#6b6b6b}.rf-search .iconfont[data-v-39865b62]{font-size:%?44?%}",""]),e.exports=t},"5dc0":function(e,t,i){"use strict";var n=i("42b8"),a=i.n(n);a.a},6032:function(e,t,i){"use strict";i.r(t);var n=i("b220"),a=i("33e6");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("5dc0");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"39865b62",null,!1,n["a"],r);t["default"]=c.exports},"6b36":function(e,t,i){"use strict";var n=i("a063"),a=i.n(n);a.a},8696:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("c5f6");var n={props:{mode:{value:Number,default:1},placeholder:{value:String,default:"请输入搜索内容"},value:{type:String,default:!1},button:{value:String,default:"outside"},show:{value:Boolean,default:!0},radius:{value:String,default:60}},data:function(){return{active:!1,inputVal:"",searchName:"取消",isDelShow:!1,isFocus:!0}},methods:{triggerConfirm:function(){this.$emit("confirm",!1)},inputChange:function(e){var t=e.detail.value;this.$emit("input",t),this.inputVal&&(this.isDelShow=!0)},focus:function(){this.active=!0,this.inputVal&&(this.isDelShow=!0)},blur:function(){this.isFocus=!1,this.inputVal||(this.active=!1)},clear:function(){uni.hideKeyboard(),this.isFocus=!1,this.inputVal="",this.active=!1,this.$emit("input","")},getFocus:function(){this.isFocus=!0},search:function(){if(!this.inputVal&&!this.show&&"取消"==this.searchName)return uni.hideKeyboard(),this.isFocus=!1,void(this.active=!1);console.log(this.inputVal),this.$emit("search",this.inputVal?this.inputVal:this.placeholder)}},watch:{inputVal:function(e){e?this.searchName="搜索":(this.searchName="取消",this.isDelShow=!1)},value:function(e){this.inputVal=e}}};t.default=n},a063:function(e,t,i){var n=i("479b");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("43f5615b",n,!0,{sourceMap:!1,shadowMode:!1})},b220:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"rf-search"},[i("v-uni-view",{staticClass:"search-box"},[i("mSearch",{staticClass:"mSearch-input-box",attrs:{mode:2,button:"inside",placeholder:e.hotSearchDefault||"请输入关键字"},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.doSearch(!1)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.doSearch(!1)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),i("v-uni-view",{staticClass:"search-keyword",on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.blur.apply(void 0,arguments)}}},[e.isShowKeywordList?i("v-uni-scroll-view",{staticClass:"keyword-list-box",attrs:{"scroll-y":!0}},e._l(e.keywordList,(function(t){return i("v-uni-view",{key:t.keyword,staticClass:"keyword-entry",attrs:{"hover-class":"keyword-entry-tap"}},[i("v-uni-view",{staticClass:"keyword-text",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.doSearch(t.keyword)}}},[i("v-uni-rich-text",{attrs:{nodes:t.htmlStr}})],1),i("v-uni-view",{staticClass:"keyword-img",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.setkeyword(t)}}})],1)})),1):e._e(),e.isShowKeywordList?e._e():i("v-uni-scroll-view",{staticClass:"keyword-box",attrs:{"scroll-y":!0}},[i("v-uni-view",{staticClass:"keyword-block"},[i("v-uni-view",{staticClass:"keyword-list-header"},[i("v-uni-view",[e._v("历史搜索")]),i("v-uni-view",[i("v-uni-text",{staticClass:"iconfont iconiconfontshanchu1",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.oldDelete.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"keyword"},e._l(e.oldKeywordList,(function(t,n){return i("v-uni-view",{key:n,on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.doSearch(t)}}},[e._v(e._s(t))])})),1),0===e.oldKeywordList.length?i("v-uni-view",{staticClass:"hide-hot-tis"},[i("v-uni-view",[e._v("暂无记录")])],1):e._e()],1),e.hotKeywordList?i("v-uni-view",{staticClass:"keyword-block"},[i("v-uni-view",{staticClass:"keyword-list-header"},[i("v-uni-view",[e._v("热门搜索")]),i("v-uni-view",[i("v-uni-text",{staticClass:"iconfont",class:e.forbid,on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hotToggle.apply(void 0,arguments)}}})],1)],1),"iconai47"==e.forbid?i("v-uni-view",{staticClass:"keyword"},e._l(e.hotKeywordList,(function(t,n){return i("v-uni-view",{key:n,on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.doSearch(t)}}},[e._v(e._s(t))])})),1):i("v-uni-view",{staticClass:"hide-hot-tis"},[i("v-uni-view",[e._v("当前搜热门搜索已隐藏")])],1)],1):e._e()],1)],1)],1)},o=[]},b5d0:function(e,t,i){"use strict";i.r(t);var n=i("8696"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},fb54:function(e,t,i){"use strict";var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=n(i("3b8d")),o=n(i("219a")),r={data:function(){return{keyword:"",oldKeywordList:[],hotKeywordList:[],keywordList:[],forbid:"iconai47",isShowKeywordList:!1,hotSearchDefault:"",type:null}},onLoad:function(e){this.initData(e)},components:{mSearch:o.default},methods:{initData:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.type=t.type,i=JSON.parse(t.data||"{}"),this.hotSearchDefault=i.hot_search_default||t.keyword,this.hotKeywordList=i.hot_search_list,this.loadOldKeyword();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),blur:function(){uni.hideKeyboard()},loadOldKeyword:function(){var e=this;uni.getStorage({key:"OldKeys",success:function(t){var i=JSON.parse(t.data);e.oldKeywordList=i}})},setkeyword:function(e){this.keyword=e.keyword},oldDelete:function(){var e=this;uni.showModal({content:"确定清除历史搜索记录？",success:function(t){t.confirm?(e.oldKeywordList=[],uni.removeStorage({key:"OldKeys"})):t.cancel}})},hotToggle:function(){this.forbid="iconai47"===this.forbid?"iconyanjing":"iconai47"},doSearch:function(e){e=e||(this.keyword?this.keyword:this.defaultKeyword),this.keyword=e,this.saveKeyword(e),"order"===this.type?uni.navigateTo({url:"/pages/order/search?keyword=".concat(e)}):uni.navigateTo({url:"/pages/product/list?keyword=".concat(e)})},saveKeyword:function(e){var t=this;uni.getStorage({key:"OldKeys",success:function(i){var n=JSON.parse(i.data),a=n.indexOf(e);-1===a||n.splice(a,1),n.unshift(e),n.length>10&&n.pop(),uni.setStorage({key:"OldKeys",data:JSON.stringify(n)}),t.oldKeywordList=n},fail:function(){var i=[e];uni.setStorage({key:"OldKeys",data:JSON.stringify(i)}),t.oldKeywordList=i}})}}};t.default=r}}]);