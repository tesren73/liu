(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-refund-refund"],{"05e3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("c5f6");var n={name:"rfRate",props:{isFill:{type:[Boolean,String],default:!0},color:{type:String,default:"#ececec"},activeColor:{type:String,default:"#ffca3e"},size:{type:[Number,String],default:24},value:{type:[Number,String],default:0},index:{type:Number,default:1},max:{type:[Number,String],default:5},margin:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1}},data:function(){return{valueSync:""}},computed:{stars:function(){for(var e=this.valueSync?this.valueSync:0,t=[],r=Math.floor(e),n=Math.ceil(e),a=0;a<this.max;a++)r>a?t.push({activeWitch:"100%"}):n-1===a?t.push({activeWitch:100*(e-r)+"%"}):t.push({activeWitch:"0"});return t}},created:function(){this.valueSync=Number(this.value)},methods:{_onClick:function(e){this.disabled||(this.valueSync=e+1,this.$emit("change",{value:this.valueSync,index:this.index}))}}};t.default=n},4387:function(e,t,r){var n=r("c4f5");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("4f06").default;a("4ac97cc5",n,!0,{sourceMap:!1,shadowMode:!1})},6651:function(e,t,r){var n=r("8d0a");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("4f06").default;a("70ccd5e9",n,!0,{sourceMap:!1,shadowMode:!1})},"6c8d":function(e,t,r){"use strict";r.r(t);var n=r("b6cd"),a=r("fee8");for(var i in a)"default"!==i&&function(e){r.d(t,e,(function(){return a[e]}))}(i);r("cb6c");var o,s=r("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"52c44c88",null,!1,n["a"],o);t["default"]=u.exports},"6cd3":function(e,t,r){"use strict";var n=r("6651"),a=r.n(n);a.a},"802d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderProductIndex=t.orderCustomerRefundClose=t.orderCustomerRefundApply=t.orderCustomerSalesReturn=t.rechargeConfigIndex=t.thirdPartyAuthDelete=t.thirdPartyAuthList=t.opinionDetail=t.opinionCreate=t.opinionList=t.uploadImage=t.orderInvoiceList=t.invoiceDel=t.invoiceDefault=t.invoiceDetail=t.invoiceUpdate=t.invoiceCreate=t.invoiceList=t.evaluateAgain=t.evaluateCreate=t.creditsLogList=t.collectList=t.footPrintDel=t.footPrintList=t.couponReceive=t.orderTakeDelivery=t.orderDelete=t.orderDetail=t.orderProductSalesReturn=t.closeOrderRefundApply=t.orderRefundApply=t.orderList=t.couponDetail=t.couponClear=t.myCouponList=t.couponList=t.addressDelete=t.addressUpdate=t.addressDetail=t.addressDefault=t.addressCreate=t.addressList=t.memberUpdate=t.memberInfo=void 0;var n="/tiny-shop/v1/member/member/index";t.memberInfo=n;var a="/tiny-shop/v1/member/member/update";t.memberUpdate=a;var i="/tiny-shop/v1/member/address/index";t.addressList=i;var o="/tiny-shop/v1/member/address/default";t.addressDefault=o;var s="/tiny-shop/v1/member/address/view";t.addressDetail=s;var u="/tiny-shop/v1/member/address/create";t.addressCreate=u;var c="/tiny-shop/v1/member/address/update";t.addressUpdate=c;var d="/tiny-shop/v1/member/address/delete";t.addressDelete=d;var l="/tiny-shop/v1/marketing/coupon-type/index";t.couponList=l;var p="/tiny-shop/v1/member/coupon/index";t.myCouponList=p;var f="/tiny-shop/v1/marketing/coupon-type/view";t.couponDetail=f;var v="/tiny-shop/v1/marketing/coupon-type/create";t.couponReceive=v;var m="/tiny-shop/v1/member/coupon/clear";t.couponClear=m;var h="/tiny-shop/v1/member/order/index";t.orderList=h;var b="/tiny-shop/v1/member/order/take-delivery";t.orderTakeDelivery=b;var y="/tiny-shop/v1/member/order-product/refund-apply";t.orderRefundApply=y;var g="/tiny-shop/v1/member/order-product/refund-sales-return";t.orderProductSalesReturn=g;var x="/tiny-shop/v1/member/order-product/refund-close";t.closeOrderRefundApply=x;var w="/tiny-shop/v1/member/order/view";t.orderDetail=w;var k="/tiny-shop/v1/member/order/delete";t.orderDelete=k;var _="/tiny-shop/v1/member/footprint/index";t.footPrintList=_;var C="/tiny-shop/v1/member/footprint/delete";t.footPrintDel=C;var R="/tiny-shop/v1/member/collect/index";t.collectList=R;var O="/tiny-shop/v1/member/credits-log/index";t.creditsLogList=O;var D="/tiny-shop/v1/member/evaluate/create";t.evaluateCreate=D;var L="/tiny-shop/v1/member/evaluate/again";t.evaluateAgain=L;var M="/tiny-shop/v1/member/order-product/index";t.orderProductIndex=M;var I="/tiny-shop/v1/member/invoice/index";t.invoiceList=I;var P="/tiny-shop/v1/member/invoice/create";t.invoiceCreate=P;var S="/tiny-shop/v1/member/invoice/update";t.invoiceUpdate=S;var A="/tiny-shop/v1/member/invoice/view";t.invoiceDetail=A;var $="/tiny-shop/v1/member/invoice/default";t.invoiceDefault=$;var T="/tiny-shop/v1/member/invoice/delete";t.invoiceDel=T;var N="/tiny-shop/v1/member/order-invoice/index";t.orderInvoiceList=N;var j="/tiny-shop/v1/member/opinion/index";t.opinionList=j;var z="/tiny-shop/v1/member/opinion/create";t.opinionCreate=z;var E="/tiny-shop/v1/member/opinion/view";t.opinionDetail=E;var U="/tiny-shop/v1/member/auth/index";t.thirdPartyAuthList=U;var F="/tiny-shop/v1/member/auth/delete";t.thirdPartyAuthDelete=F;var W="/tiny-shop/v1/member/recharge-config/index";t.rechargeConfigIndex=W;var B="/tiny-shop/v1/member/order-customer/apply";t.orderCustomerRefundApply=B;var H="/tiny-shop/v1/member/order-customer/sales-return";t.orderCustomerSalesReturn=H;var J="/tiny-shop/v1/member/order-customer/close";t.orderCustomerRefundClose=J;var q="/tiny-shop/v1/common/file/images";t.uploadImage=q},"8d0a":function(e,t,r){var n=r("24fb");t=n(!1),t.push([e.i,".refund[data-v-28715b2a]{background:#fff;padding:%?20?%}.refund .product-info[data-v-28715b2a]{display:-webkit-box;display:-webkit-flex;display:flex}.refund .product-info .product-image[data-v-28715b2a]{width:%?200?%;height:%?150?%}.refund .product-info .product-content[data-v-28715b2a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:%?20?%}.refund .product-info .product-content .product-name[data-v-28715b2a]{font-size:%?32?%;color:#303133;line-height:%?32?%;min-height:%?60?%}.refund .product-info .product-content .product-sku-name[data-v-28715b2a]{display:block;font-size:%?28?%;color:#303133}.refund .product-textarea[data-v-28715b2a]{margin-top:%?20?%;height:%?300?%;border-bottom:1px solid rgba(0,0,0,.1);position:relative}.refund .product-textarea .refund-type[data-v-28715b2a]{margin:%?20?% 0}.refund .product-textarea .textarea[data-v-28715b2a]{width:100%}.refund .product-textarea .tips[data-v-28715b2a]{position:absolute;bottom:%?10?%;right:0;font-size:%?24?%;color:#909399}.refund .product-textarea .tips .f[data-v-28715b2a]{color:#4cd964}.refund .product-textarea .tips .s[data-v-28715b2a]{color:#fa436a}.refund .product-textarea .anonymous[data-v-28715b2a]{color:#909399;font-size:%?24?%;position:absolute;bottom:0;left:0}.refund .confirm-btn[data-v-28715b2a]{width:%?630?%;height:%?76?%;line-height:%?76?%;border-radius:50px;margin-top:%?50?%;background:#fa436a;color:#fff;font-size:%?32?%}.refund .confirm-btn[data-v-28715b2a]:after{border-radius:100px}",""]),e.exports=t},9564:function(e,t,r){"use strict";r("c5f6"),r("28a5"),r("3b2b"),e.exports={error:"",check:function(e,t){for(var r=0;r<t.length;r++){if(!t[r].checkType)return!0;if(!t[r].name)return!0;if(!t[r].errorMsg)return!0;if(!e[t[r].name])return this.error=t[r].errorMsg,!1;switch(t[r].checkType){case"string":var n=new RegExp("^.{"+t[r].checkRule+"}$");if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"int":n=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[r].checkRule+"}$");if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[r].name]))return this.error=t[r].errorMsg,!1;var a=t[r].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[r].name]>a[1]||e[t[r].name]<a[0])return this.error=t[r].errorMsg,!1;break;case"betweenD":n=/^-?[1-9][0-9]?$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;a=t[r].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[r].name]>a[1]||e[t[r].name]<a[0])return this.error=t[r].errorMsg,!1;break;case"betweenF":n=/^-?[0-9][0-9]?.+[0-9]+$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;a=t[r].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[r].name]>a[1]||e[t[r].name]<a[0])return this.error=t[r].errorMsg,!1;break;case"same":if(e[t[r].name]!=t[r].checkRule)return this.error=t[r].errorMsg,!1;break;case"notsame":if(e[t[r].name]==t[r].checkRule)return this.error=t[r].errorMsg,!1;break;case"email":n=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"phoneno":n=/^1[0-9]{10,10}$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"zipcode":n=/^[0-9]{6}$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"reg":n=new RegExp(t[r].checkRule);if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"in":if(-1==t[r].checkRule.indexOf(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"notnull":if(null==e[t[r].name]||e[t[r].name].length<1)return this.error=t[r].errorMsg,!1;break}}return!0},isNumber:function(e){var t=/^-?[1-9][0-9]?.?[0-9]*$/;return t.test(e)}}},b6cd:function(e,t,r){"use strict";var n;r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"uni-rate"},e._l(e.stars,(function(t,n){return r("v-uni-view",{key:n,staticClass:"uni-rate__icon",style:{marginLeft:e.margin+"px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._onClick(n)}}},[r("v-uni-text",{staticClass:"iconfont iconstar",style:{color:e.isFill?"#eee":"#ececec"}}),r("v-uni-view",{staticClass:"uni-rate__icon-on",style:{width:t.activeWitch,top:-e.size/2-1+"px"}},[r("v-uni-text",{staticClass:"iconfont iconstar",style:{color:e.activeColor}})],1)],1)})),1)},i=[]},c041:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("8e6e"),r("ac6a"),r("456d");var a=n(r("bd86"));r("96cf");var i=n(r("3b8d")),o=n(r("6c8d")),s=r("802d");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=r("9564"),l={components:{uniRate:o.default},data:function(){return{productInfo:{},refundType:1,refund_type:1,refund_reason:"",refundTypeArr:[{value:"1",name:"仅退款"},{value:"2",name:"退货退款"}]}},computed:{wordLimit:function(){return 140-this.refund_reason.length}},onLoad:function(e){this.initData(e)},methods:{initData:function(e){this.token=uni.getStorageSync("accessToken")||void 0,this.productInfo=JSON.parse(e.data),this.refundType=e.refundType;var t="仅退款";t=1===parseInt(this.refundType,10)?"仅退款":"仅退款/退货退款",uni.setNavigationBarTitle({title:t})},handleContentChange:function(e){this.refund_reason=e.detail.value},handleRefundTypeChange:function(e){this.refund_type=e.detail.value},handleOrderRefundApply:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.detail.value,1===parseInt(this.refundType,10)&&(r.refund_type=this.refundType),n=[{name:"refund_reason",checkType:"notnull",checkRule:"",errorMsg:"请输入退款/退货理由"}],a=d.check(r,n),a){e.next=7;break}return this.$mHelper.toast(d.error),e.abrupt("return");case 7:3==this.refundType?this.handleOrderCustomerRefundApply(this.productInfo.id,r):this.handleOrderRefundApplyOperation(this.productInfo.id,r);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleOrderRefundApplyOperation:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t,r){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("".concat(s.orderRefundApply),c({id:t},r)).then((function(){n.$mHelper.toast("申请成功"),n.$mRouter.back()}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),handleOrderCustomerRefundApply:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t,r){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("".concat(s.orderCustomerRefundApply),c({id:t},r)).then((function(){n.$mHelper.toast("申请成功"),n.$mRouter.back()}));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}};t.default=l},c0e2:function(e,t,r){"use strict";r.r(t);var n=r("c041"),a=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},c4f5:function(e,t,r){var n=r("24fb");t=n(!1),t.push([e.i,".uni-rate[data-v-52c44c88]{display:-webkit-box;display:-webkit-flex;display:flex;line-height:0;font-size:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.iconfont[data-v-52c44c88]{font-size:%?36?%}.uni-rate__icon[data-v-52c44c88]{position:relative;line-height:0;font-size:0}.uni-rate__icon-on[data-v-52c44c88]{overflow:hidden;position:absolute;top:0;left:0;line-height:1;text-align:left}",""]),e.exports=t},ca68:function(e,t,r){"use strict";var n;r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"refund"},[r("v-uni-view",{staticClass:"product-info"},[r("v-uni-image",{staticClass:"product-image",attrs:{mode:"aspectFill",src:e.productInfo.product_picture}}),r("v-uni-view",{staticClass:"product-content"},[r("v-uni-text",{staticClass:"product-name in2line"},[e._v(e._s(e.productInfo.product_name))]),r("v-uni-text",{staticClass:"product-sku-name"},[e._v(e._s(e.productInfo.skuName||"基础款"))]),r("v-uni-text",{staticClass:"product-price"},[e._v(e._s(e.productInfo.product_money)+" * "+e._s(e.productInfo.num))])],1)],1),r("v-uni-view",{staticClass:"product-textarea"},[r("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.handleOrderRefundApply.apply(void 0,arguments)}}},[1!=parseInt(e.refundType,10)?r("v-uni-radio-group",{staticClass:"refund-type",attrs:{name:"refund_type"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.handleRefundTypeChange.apply(void 0,arguments)}}},e._l(e.refundTypeArr,(function(t,n){return r("v-uni-label",{key:n,staticClass:"gender-item"},[r("v-uni-radio",{staticClass:"gender-item-radio",attrs:{value:t.value,color:"#fa436a",checked:e.refund_type==t.value}}),r("v-uni-text",{staticClass:"gender-item-text"},[e._v(e._s(t.name))])],1)})),1):e._e(),r("v-uni-textarea",{staticClass:"textarea",attrs:{name:"refund_reason",maxlength:"140",value:e.refund_reason,"placeholder-style":"color:#ccc; font-size: 24upx",placeholder:"宝贝不满足你的期待吗？请填写一下你的退货/退款理由吧"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.handleContentChange.apply(void 0,arguments)}}}),r("v-uni-view",{staticClass:"tips"},[e.refund_reason.length>0&&e.refund_reason.length<40?r("v-uni-text",[e._v("您已输入"),r("v-uni-text",{staticClass:"f"},[e._v(e._s(e.refund_reason.length))]),e._v("字")],1):e._e(),e.refund_reason.length>=40?r("v-uni-text",[e._v("还可输入"),r("v-uni-text",{staticClass:"s"},[e._v(e._s(e.wordLimit))]),e._v("字")],1):e._e()],1),r("v-uni-button",{staticClass:"confirm-btn",attrs:{formType:"submit"}},[e._v(e._s(1===parseInt(e.refund_type,10)?"仅退款":"退货退款"))])],1)],1)],1)},i=[]},cb6c:function(e,t,r){"use strict";var n=r("4387"),a=r.n(n);a.a},d0fe:function(e,t,r){"use strict";r.r(t);var n=r("ca68"),a=r("c0e2");for(var i in a)"default"!==i&&function(e){r.d(t,e,(function(){return a[e]}))}(i);r("6cd3");var o,s=r("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"28715b2a",null,!1,n["a"],o);t["default"]=u.exports},fee8:function(e,t,r){"use strict";r.r(t);var n=r("05e3"),a=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a}}]);