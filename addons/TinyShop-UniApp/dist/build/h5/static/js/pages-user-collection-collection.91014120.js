(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-collection-collection"],{"09df":function(t,e,i){"use strict";i.r(e);var n=i("4d1d"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"488e":function(t,e,i){"use strict";i.r(e);var n=i("54f3"),a=i("09df");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("5148");var c,r=i("f0c5"),s=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"64af98cf",null,!1,n["a"],c);e["default"]=s.exports},"4d1d":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("75fc"));i("96cf");var o=n(i("3b8d")),c=i("802d"),r=n(i("f97d")),s=i("2b74"),l=n(i("5028")),f=n(i("9b83")),u=n(i("5449")),d={components:{rfLoadMore:r.default,rfSwipeAction:f.default,rfSwipeActionItem:u.default},data:function(){return{collectionList:[],page:1,loadingType:"more",options:[{text:"取消收藏",style:{backgroundColor:"#fa436a"}}],loading:!0}},filters:{time:function(t){return(0,l.default)(1e3*t).format("YYYY-MM-DD HH:mm")}},onShow:function(){this.initData()},onPullDownRefresh:function(){this.page=1,this.collectionList=[],this.loading=!0,this.getCollectionList("refresh")},onReachBottom:function(){this.page++,this.getCollectionList()},methods:{bindClick:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"取消收藏"===e.content.text&&this.handleDeleteCollection(e.data.id);case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDeleteCollection:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.delete("".concat(s.collectDel,"?id=").concat(e),{page:this.page}).then((function(){i.$mHelper.toast("取消收藏成功"),i.page=1,i.collectionList.length=0,i.getCollectionList()}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),initData:function(){this.page=1,this.collectionList.length=0,this.getCollectionList()},getCollectionList:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("".concat(c.collectList),{page:this.page}).then((function(t){i.loading=!1,"refresh"===e&&uni.stopPullDownRefresh(),i.loadingType=10===t.data.length?"more":"nomore",i.collectionList=[].concat((0,a.default)(i.collectionList),(0,a.default)(t.data))})).catch((function(){i.loading=!1,"refresh"===e&&uni.stopPullDownRefresh()}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),navTo:function(t){this.$mRouter.push({route:t})}}};e.default=d},5148:function(t,e,i){"use strict";var n=i("a9c3"),a=i.n(n);a.a},"54f3":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={"rf-swipe-action":i("9b83").default,"rf-swipe-action-item":i("5449").default,"rf-load-more":i("f97d").default,"rf-loading":i("a7c6").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"collection"},[i("rf-swipe-action",{staticClass:"rf-list"},[t._l(t.collectionList,(function(e,n){return i("rf-swipe-action-item",{key:n,staticClass:"rf-swipe-item",attrs:{options:t.options,info:e},on:{action:function(e){arguments[0]=e=t.$handleEvent(e),t.bindClick.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"rf-list-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navTo("/pages/product/product?id="+e.product.id)}}},[i("v-uni-view",{staticClass:"left"},[i("v-uni-image",{staticClass:"image",attrs:{src:e.product&&e.product.picture}})],1),i("v-uni-view",{staticClass:"mid"},[i("v-uni-view",{staticClass:"title in2line"},[t._v(t._s(e.product&&e.product.name))]),i("v-uni-view",{staticClass:"data"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"iconfont icontuandui"}),t._v("推荐 "+t._s(e.product&&e.product.collect_num||0))],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",{staticClass:"iconfont iconkechakan"}),t._v("浏览 "+t._s(e.product&&e.product.view||0))],1)],1),i("v-uni-view",{staticClass:"state-wrapper"},[0===parseInt(e.product&&e.product.product_status)?i("v-uni-text",{staticClass:"state"},[t._v("失效")]):t._e()],1),i("v-uni-view",{staticClass:"bottom"},[i("v-uni-text",{staticClass:"price"},[t._v(t._s(e.product&&e.product.minPriceSku.price))]),i("v-uni-text",[t._v(t._s(t._f("time")(e.created_at)))])],1)],1)],1)],1)})),t.collectionList.length>0?i("rf-load-more",{attrs:{status:t.loadingType}}):t._e()],2),0!==t.collectionList.length||t.loading?t._e():i("rf-empty",{attrs:{info:"快去收藏一些商品吧~"}}),t.loading?i("rf-loading"):t._e()],1)},o=[]},"6e95":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'uni-page-body[data-v-64af98cf]{background-color:#f8f8f8}.collection .rf-swipe-item[data-v-64af98cf]{margin:0 %?10?% %?20?%}.collection .rf-list-item[data-v-64af98cf]{padding:0;margin:0}.collection .left[data-v-64af98cf]{padding:%?20?% %?20?% %?10?%}.collection .left .image[data-v-64af98cf]{width:%?260?%;height:%?240?%}.collection .mid[data-v-64af98cf]{width:calc(100vw - %?350?%);margin:0 %?10?%}.collection .mid .title[data-v-64af98cf]{height:%?88?%;font-size:%?30?%;color:#303133}.collection .mid .data[data-v-64af98cf]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:%?10?% 0 %?5?%;font-size:%?28?%;color:#606266}.collection .mid .data .item[data-v-64af98cf]{height:%?50?%;line-height:%?50?%}.collection .mid .data .iconfont[data-v-64af98cf]{color:#909399;margin-right:%?10?%}.collection .mid .state-wrapper[data-v-64af98cf]{height:%?48?%}.collection .mid .state-wrapper .state[data-v-64af98cf]{margin:%?5?% 0;background-color:#fa436a;opacity:.8;color:#fff;font-size:%?24?%;padding:%?4?% %?10?%;border-radius:%?6?%}.collection .mid .bottom[data-v-64af98cf]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?24?%;color:#909399}.collection .mid .bottom .price[data-v-64af98cf]{color:#fa436a;font-size:%?32?%}.collection .mid .bottom .price[data-v-64af98cf]:before{content:"￥";font-size:%?24?%}body.?%PAGE?%[data-v-64af98cf]{background-color:#f8f8f8}',""]),t.exports=e},a9c3:function(t,e,i){var n=i("6e95");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5bea7a3d",n,!0,{sourceMap:!1,shadowMode:!1})}}]);